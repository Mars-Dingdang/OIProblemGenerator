\documentclass{article}
\usepackage{amsmath, amssymb, fullpage}
\begin{document}

\section*{Galactic Species Explorer}

In the Andromeda Galaxy, the Interstellar Alliance has established $n$ colonies across distant planets. Each colony $i$ is inhabited by an alien species uniquely identified by an integer color $c_i$ (though multiple colonies may share the same species). These colonies are interconnected by $m$ bidirectional hyperlanes, each requiring a distinct energy level $w$ for traversal. Due to cosmic radiation, hyperlanes become unstable beyond certain energy thresholds.

As an explorer for the Alliance, your spaceship is equipped with a configurable energy shield. When set to threshold $x$, it allows traversal only through hyperlanes requiring energy $\leq x$. Your mission is to answer $q$ critical queries: For a departure colony $u$ and shield threshold $x$, determine the number of distinct alien species accessible from $u$ using active hyperlanes (i.e., those with energy $\leq x$). Note that accessibility requires a path through active hyperlanes between colonies.

\section*{Input Format}
The first line contains three integers $n$, $m$, $q$: the number of colonies, hyperlanes, and queries. \\
The second line contains $n$ integers $c_1, c_2, \dots, c_n$, where $c_i$ is the species color of colony $i$. \\
The next $m$ lines describe the hyperlanes. Each line contains three integers $u$, $v$, $w$, indicating a hyperlane between colonies $u$ and $v$ requiring energy $w$. \\
The next $q$ lines describe the queries. Each line contains two integers $u$ and $x$, asking for the number of distinct species accessible from colony $u$ with shield threshold $x$.

\section*{Output Format}
For each query, output a single integer: the number of distinct species colors in the connected component containing $u$ when considering only hyperlanes with energy $\leq x$.

\section*{Constraints}
\begin{itemize}
    \item $1 \leq n, m, q \leq 200,000$
    \item $1 \leq w, x \leq 10^9$
    \item Hyperlane energy levels $w$ are distinct.
    \item Colonies are 1-indexed.
    \item The graph may be disconnected.
\end{itemize}

\section*{Sample}
\begin{tabular}{|c|c|}
\hline
\textbf{Input} & \textbf{Output} \\
\hline
\multicolumn{2}{|l|}{4 3 2} \\
\multicolumn{2}{|l|}{1 2 1 3} \\
\multicolumn{2}{|l|}{1 2 5} \\
\multicolumn{2}{|l|}{2 3 3} \\
\multicolumn{2}{|l|}{3 4 4} \\
\multicolumn{2}{|l|}{1 4} \\
\multicolumn{2}{|l|}{2 4} \\
\hline
1 &  \\
3 &  \\
\hline
\end{tabular}

\textbf{Explanation:} \\
- Query 1: $(u=1, x=4)$. Hyperlanes with energy $\leq 4$ are $(2,3)$ and $(3,4)$. Colony 1 is isolated (since hyperlane $(1,2)$ requires energy $5>4$). Thus, only species 1 is accessible. \\
- Query 2: $(u=2, x=4)$. Colonies $\{2,3,4\}$ form a connected component via hyperlanes $(2,3)$ and $(3,4)$. The distinct species colors are $1,2,3$.

\end{document}