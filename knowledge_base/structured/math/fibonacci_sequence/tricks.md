## 关键观察与技巧

### 1. 快速计算方法
- **矩阵快速幂**：标准方法，适用于任何线性递推。
- **快速倍增法**：利用公式：
  - F(2k) = F(k)[2F(k+1) - F(k)]
  - F(2k+1) = F(k+1)² + F(k)²
  - 常数比矩阵乘法小，代码更简洁。

### 2. 模意义下的性质
- **皮萨诺周期**：模 m 的斐波那契数列具有周期性，周期不超过 6m。
  - 对于奇素数 p ≡ 1,4 (mod 5)，周期整除 p-1。
  - 对于奇素数 p ≡ 2,3 (mod 5)，周期整除 2p+2。
  - 对于 2 的幂，周期为 3×2^(k-1)；对于 5 的幂，周期为 4×5^k。
- **计算大 n 模 m**：先计算周期 T，然后计算 n mod T 再求值。

### 3. 重要恒等式
- **卡西尼恒等式**：F(n-1)F(n+1) - F(n)² = (-1)ⁿ
- **GCD 性质**：gcd(F(m), F(n)) = F(gcd(m, n))
- **整除性质**：F(a) | F(b) 当且仅当 a | b
- **附加性质**：F(m+n) = F(m)F(n+1) + F(m-1)F(n)

### 4. 斐波那契编码（齐肯多夫表示）
- 任何正整数可唯一表示为不相邻的斐波那契数之和。
- **编码算法**：贪心从大到小选择斐波那契数。
- **应用**：数据压缩、证明组合恒等式。

### 5. 与卢卡斯数列的关系
- L(n) = F(n-1) + F(n+1)
- L(n)² - 5F(n)² = 4(-1)ⁿ
- 快速倍增也可用于卢卡斯数列。

### 6. 通项公式（Binet公式）
- F(n) = [φⁿ/√5]（取整），其中 φ = (1+√5)/2
- 模意义下可与二次剩余结合使用。

### 7. 优化技巧
- **预处理**：对于多次查询，可预处理前若干项。
- **记忆化递归**：避免重复计算。
- **模运算优化**：使用快速模乘避免溢出。

### 8. 常见问题转化
- 爬楼梯问题（每次1或2步）→ 斐波那契数。
- 矩形覆盖问题（2×n用1×2骨牌）→ 斐波那契数。
- 兔子繁殖问题 → 斐波那契数列。
- 最坏情况欧几里得算法复杂度 → 连续斐波那契数。