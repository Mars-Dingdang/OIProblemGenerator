1. **核心思想**：将模数 m 分解为素数幂 p^α，分别计算 C(n, k) mod p^α，再用中国剩余定理合并。
2. **阶乘处理**：计算 n! mod p^α 时，排除所有 p 的倍数，递归处理 n/p 部分。
3. **Hensel 引理应用**：用于提升模素数幂的解，是算法正确性的理论基础。
4. **优化**：预处理每个 p^α 内所有非 p 倍数的乘积，加速阶乘计算。
5. **问题转化**：当 m 不是质数时，卢卡斯定理失效，扩展卢卡斯是通用解法。
6. **适用场景**：组合数取模，模数为合数，n 和 k 较大（如 10^18）。
7. **注意点**：模数分解后，每个 p^α 应独立计算，避免溢出。