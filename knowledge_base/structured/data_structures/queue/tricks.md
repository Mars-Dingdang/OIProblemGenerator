### 双栈模拟队列
- 使用两个栈 `F`（队尾）和 `S`（队首）模拟队列。
- **Push**: 直接压入 `F`。
- **Pop/Front**: 如果 `S` 为空，则将 `F` 中所有元素依次弹出并压入 `S`（实现反转），然后从 `S` 操作。
- **复杂度**: 每个元素最多入栈、转移、出栈各一次，均摊 O(1)。

### 数组模拟队列
- 使用数组 `q[]` 和两个指针 `ql`（队首）、`qr`（队尾）。
- 通常初始化 `ql = 1, qr = 0`。
- **Push**: `q[++qr] = x`。
- **Pop**: `ql++`。
- **循环队列**: 当 `qr` 到达数组末尾时，可模运算回绕到开头，实现空间复用。

### 双端队列 (Deque)
- 支持两端插入删除。
- **数组模拟**: 使用循环数组，维护两个指针。
- **双栈模拟**: 用两个栈模拟，但需注意平衡操作以避免均摊分析失效。平衡时只移动一半元素，保持均摊 O(1)。

### 常见转换
1. **用队列实现栈**: 使用一个队列，在 `push` 时将新元素入队后，将前面所有元素依次出队再入队，使新元素成为队首（即栈顶）。
2. **单调队列**: 维护队列元素单调性（递增/递减），用于滑动窗口最值问题（如 LeetCode 239）。
3. **BFS 层级遍历**: 队列中同时存储节点和层级，或每次处理一层前记录当前队列大小。

### STL 注意
- `std::queue` 默认底层容器为 `std::deque`，也可用 `list`。
- `std::deque` 支持随机访问（`[]`），但中间插入删除较慢。
- `std::priority_queue` 是堆，不是严格队列，默认最大堆。