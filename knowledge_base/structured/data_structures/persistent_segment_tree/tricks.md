- **路径复用**：每次更新只复制被修改的路径（$O(\log n)$ 个节点），其余节点共享历史版本，大幅减少空间开销。
- **前缀和思想迁移**：利用 `root[r] - root[l-1]` 实现区间信息差分，从而支持区间第 $k$ 小查询。
- **动态开点**：必须使用指针或数组索引动态管理左右子树，不能使用堆式存储（如 `x*2`, `x*2+1`）。
- **离散化预处理**：对原始数值进行排序去重，将值域映射到紧凑区间以降低线段树深度和空间消耗。
- **大胆开空间**：总节点数约为 $n \times (\lceil \log_2 n ceil + 1) + 2n$，建议分配 $n \ll 5$ 级别的空间（如 $25 \times 10^5$）避免溢出。
- **函数式编程特性**：结构不可变，所有操作返回新版本根节点，天然支持并发与回滚。
- **扩展应用**：可用于构建可持久化并查集，通过维护父节点和秩的历史版本实现操作回溯。