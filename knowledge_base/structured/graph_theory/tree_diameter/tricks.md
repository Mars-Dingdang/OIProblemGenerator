- **两次DFS法**：适用于非负权边。从任意点出发第一次DFS找到最远点 $ z $，再从 $ z $ 出发第二次DFS找到最远点 $ z' $，则 $ \delta(z, z') $ 即为直径。
- **反证法证明正确性**：若第一次得到的最远点不是直径端点，则会导致存在更长路径，矛盾。
- **负权边处理**：两次DFS不适用；必须使用树形DP方法。
- **树形DP - 双数组法**：维护每个节点向下的最长路径 $ d1[u] $ 和次长路径 $ d2[u] $，更新全局答案 $ \max(d1[u] + d2[u]) $。
- **树形DP - 单数组法**：用 $ dp[u] $ 表示从 $ u $ 出发在子树内的最长路径，在转移时枚举两条分支：$ d = \max(d, dp[u] + dp[v] + w) $，然后更新 $ dp[u] = \max(dp[u], dp[v] + w) $。
- **路径还原技巧**：
  - 两次DFS：记录前驱节点，从第二次DFS起点回溯即可还原整条直径。
  - 树形DP：记录最长和次长路径对应的子节点，从取得最大值的节点沿两个方向展开。
- **中点重合性质**：当所有边权为正时，所有直径必有共同中点（可用于构造对称结构或中心推理）。