- **普通环计数（状态压缩 DP）**：使用 `f[mask][i]` 表示从 mask 中最小编号点出发，当前在点 i 的路径数。当回到起点时累加答案。注意去除二元环（重边）并除以 2（每个环正反各算一次）。

- **三元环计数定向技巧**：将无向边定向为从度数小的点指向度数大的点（度数相同则编号小的指向大的），形成 DAG。这样可以避免重复枚举，并保证时间复杂度为 $ O(m\sqrt{m}) $。

- **三元环算法核心**：枚举起点 u，标记其所有出边邻居；再枚举 u→v，然后枚举 v→w，若 w 被标记，则 (u,v,w) 构成三元环。

- **边贡献统计**：可用于计算每条边上包含的三元环数量（如 HDU6184），进而组合计算 `(x choose 2)` 得到四星图数量。

- **四元环计数方法**：同样基于定向思想，枚举中间路径 a←b→c，其中 a 和 c 都比 b ‘小’（按排序规则）。用计数数组临时记录公共前驱，利用 `ans += cnt[c]` 累加后清零。

- **复杂度分析关键**：对于度数 > √m 的点，其出边指向的点也必然是高点，总数不超过 √m；低点部分直接由度数限制，总复杂度控制在 $ O(m\sqrt{m}) $。

- **去重与容斥应用**：在更复杂的子图计数中（如五种四边连通图），需通过数学推导减去重复计算的三元环、四元环等结构，常结合组合数学与分类讨论。

- **通用优化模式**：`vis[]` 数组标记法和 `cnt[]` 计数+即时清零是高频技巧，避免每次 memset 整个数组，提升常数效率。