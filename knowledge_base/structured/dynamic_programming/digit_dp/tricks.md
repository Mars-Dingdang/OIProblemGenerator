## 核心思想
- **拆位处理**: 将数字按位分解，逐位决策。
- **前缀状态**: 用状态记录已处理前缀的关键信息（如前一位数字、数字和、模余数、AC自动机节点等）。
- **记忆化搜索**: 常用DFS+记忆化，参数通常包括：位置`pos`、状态`state`、是否紧贴上界`tight`、是否有前导零`lead`。

## 关键优化
- **状态压缩**: 只记忆化`tight=false`且`lead=false`的状态，因为这两种情况不受上界和前导零限制，可以复用。
- **区间转化**: `ans[l, r] = solve(r) - solve(l-1)`，将闭区间转化为两个前缀相减。
- **前导零处理**: 前导零不参与状态转移（如数字和、相邻关系），需特殊判断。

## 常见变形
1. **数位计数**: 统计数字出现次数（如例题1）。
2. **禁止数字/模式**: 禁止某些数字或连续模式（如不要62）。
3. **数位条件**: 相邻数字差、回文、镜像数等。
4. **结合AC自动机**: 当条件涉及禁止某些子串时，将AC自动机状态融入DP（如例题5）。
5. **数位和/乘积**: 状态记录数位和或乘积，常用于整除问题。

## 实现技巧
- **预处理幂**: 预处理`10^i`避免重复计算。
- **灵活状态设计**: 根据问题设计最小必要状态，避免维度爆炸。
- **边界处理**: 注意`l=0`或`r=0`的情况，以及`l-1`可能为负数。
- **多组数据**: 对于不变的部分（如AC自动机、dp数组）可全局初始化一次。